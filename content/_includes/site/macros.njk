{% import "utility.macros.njk" as utility %}


{% macro tag_title(collections) %}
  {% set amp = '&amp;&nbsp;' %}
  {% for tag in collections | getTags %}
    {% set url = tag | tagLink(collections) %}
    {% set amp1 = '' if loop.first else amp %}
    {{ amp1 | safe }}<a href="{{ url }}">{{ tag | displayName }}</a>
  {% endfor %}
  {{ amp | safe }}<a href="/tags/">more</a>
{% endmacro %}


{% macro site_nav(
  items,
  page
) %}
  <ol data-navlist="site">
    {% for name, url in items %}
      <li
        class="nav-item"
        {{ utility.attr_if('data-active', (page.url == url)) }}>
        {{ nav_link(name, url) }}
      </li>
    {% endfor %}
  </ol>
{% endmacro %}


{% macro nav_link(
  name,
  url
) %}
  {% set attrs = {
    'data-nav': name | slug,
    'rel': ('home' if url == '/' else none)
  } %}

  <a
    href="{{ url | url }}"
    {{ utility.show_attrs(attrs) }}>
    {{ name | safe }}
  </a>
{% endmacro %}
